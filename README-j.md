# Puts_CC
中程度のテキストを初等的な辞書を使って目次と元記事へのリンクを作成することを目的としています。
また、このプログラムは決定論的な手法で書かれています。

また、このプログラムは入力された情報に対して何ら真偽を判定するものではなく、入力された情報から、
それが真と主張されているか、または偽と主張されているか、の該当部分を表記から抜き出すものです。

このプログラムはとても大きなメモリ領域を必要とします。また、大きなメモリをなめる操作を何回か行うのでとても遅いです。

# 使い方
    make tools
    ./tools lword < data.txt
    ./tools lword prepared_word_list.txt < data.txt
    ./tools lbalance wordlist.txt < data.txt
    ./tools corpus wordlist.txt < data.txt
    ./tools toc wordlist.txt dictionaries ... -toc topics ... < data.txt
    ./tools redig wordlist.txt < data.txt
    ./tools stat wordlist.txt dictionaries ... < data.txt
    ./tools reconstruct wordlist.txt < data.txt
    ./tools diff wordlist.txt -dict ... -dict2 ... < data.txt
    ./tools prep wordlist.txt < data.txt

# メモリフラグメント
jemalloc などのより効率の良いアロケータを使うとヒープメモリ使用量を大幅に削減することができます。

# 文脈
形態要素解析のソフトウェア、及び自動パラメタ調整のソフトウェアに刺激されました。  
また、テンソルによるテキストの表現については、先行がありましたが、これとは若干コンセプトが異なりました。(R.B. ieee 2004)

# 状態
test.cc を通しての実装のチェックとテストをしています。lword.hh, corpus.hh に関しては安定ちょっと前、それ以外はテスト中です。

# デモ
https://services.limpid-intensity.info/puts.php にサンプルがあります。
擬似的なログインですので、登録は必要ありません。

# ライブラリとしての使い方
tools.cc を参照してください。また、namespace ブロックで括ってください。ただし、インクルードガードの定義が高確率で有害です。

# web インターフェースの使い方
php ファイルと prep.py ファイルおよび tools 実行ファイルを(puts 実行ファイルとして)ディレクトリにおいてください。
また、パーミッションを適宜指定した data ディレクトリを作成してください。  
mysql 互換のデータベース環境および php 実行環境と、python 実行環境が必要です。
また、諸処のコマンドのパスが設定されている必要があります。

prep.py はとても古い python2.7 および \_mysql ライブラリを必要とします。
また、データベースの参照は prep.py のみ行っています。適宜接続設定を書き換えてお使いください。

# wiktionary のインポート (GFDL)
mediawiki さんの最新バージョンと xml2sql さんが必要です。
必要であれば莫大なデータベースである wikipedia さんの wiktionary をインポートしてください。

# Tips
これらのプログラムはまだよく検証されたアルゴリズムを使用して*いない可能性があります*。  
内部処理で使用されるテンソルが Dense な場合、示される情報は意味を失っています。複数レイヤに別れた辞書をうまく使うと、このような状態を避けることができます。  
このプログラムを形態要素解析と一緒に使うときちんとした結果が得られますが、現状そうして*いません*。このプログラムは単語同士の距離と順序のみを問題としています、これは何が着目されているかに大まかにつながるものです。  
このプログラムは何が言われたかについて着目するものであり、何が言われていないか、について着目するものではありません。  
abbrev 関数は、理想的には withDetail 関数の逆の最適化となっていることが望ましいですが、現状そうなっていません。  
serialize 関数は、理想的には corpushl(corpus(...)) イニシャライザの逆の最適化となっていることが望ましいですが、現状そうなっていません。  
純粋な興味で作られたプログラムですので、文脈を理解する際の補助として以外には使用しないでください。  
もし大きなよく記述されたテキストと辞書があれば、自分の主張と反対の主張を演繹することができますが、これは何が文脈から言えるかであり、何が実際の問題かということではありません。  

# その他のダウンロードサイト
* https://ja.osdn.net/projects/puts-cc/
* https://www.sourceforge.net/projects/puts-cc/
* https://files.limpid-intensity.info/

# 頓挫されたもの
これらのプログラムと形態素解析および論理演算をカテゴリ - 関係性 - 尺度の領域ペアでテンソルを記述すると現在よりも正しい結果が得られると推測され、また、末端の論理演算により有用な使用ができる可能性がありますが、実装されていません。これらは話題を整理して目次を作成するだけのものには不要です。また、それを使用した場合には、2 つ以上の事象に対してまたは 2 人以上の人からの記述の場合には示されるテーブルは意味のないものになります。また、そのような事象をこのプログラムはきちんと処理できません。

# 検討されている途中のもの
論理否定をきちんと処理できると、主張の大まかな(現状よりより細かな)類別ができます。検討中です。
